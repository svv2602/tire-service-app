# Пользовательские Посты Обслуживания с Гибким Временем

В этом документе описывается реализация функциональности пользовательских постов обслуживания с гибким временем для приложения шиномонтажного сервиса.

## Основная Концепция

Каждая сервисная точка (ServicePoint) может иметь несколько постов обслуживания (ServicePost), каждый из которых имеет:
- Уникальное название
- Индивидуальное время обслуживания (от 5 до 240 минут)

Это позволяет настроить любую продолжительность обслуживания для каждого поста, а не только стандартные интервалы (15, 30, 45, 60 минут и т.д.).

## Структура Данных

Посты обслуживания хранятся в JSON-поле `service_posts` таблицы `service_points` в следующем формате:

```json
[
  {
    "name": "Пост 1",
    "service_time_minutes": 30
  },
  {
    "name": "Экспресс-пост",
    "service_time_minutes": 20
  },
  {
    "name": "Грузовой пост",
    "service_time_minutes": 90
  }
]
```

## Тестовые Данные

Для тестирования функциональности пользовательских постов обслуживания доступен специальный сидер, который создаёт сервисную точку с постами разной продолжительности:

- Express Post - 15 мин
- Standard Post - 30 мин
- Extended Post - 45 мин
- Custom Post - 37 мин (произвольное время)
- Heavy Duty Post - 120 мин

## Запуск Тестового Сидера

### Windows:

```powershell
cd backend
.\test-custom-posts.ps1
```

### Linux/Mac:

```bash
cd backend
chmod +x test-custom-posts.sh
./test-custom-posts.sh
```

## Проверка Результатов

После запуска сидера, вы можете проверить результаты через веб-интерфейс приложения. Откройте:

1. Войдите в систему как администратор (admin@tyreservice.com / password)
2. Перейдите в раздел "Управление торговыми точками"
3. Найдите пункт "Test Custom Posts"
4. Нажмите на "Редактировать" и проверьте посты обслуживания

## API Примеры

### Получение сервисной точки с постами обслуживания

```
GET /api/v2/service-points/{id}
```

### Создание/обновление сервисной точки с постами обслуживания

```json
{
  "name": "Новая сервисная точка",
  "address": "Адрес",
  "service_posts": [
    {
      "name": "Пост 1",
      "service_time_minutes": 45
    },
    {
      "name": "Пост 2",
      "service_time_minutes": 60
    }
  ]
}
``` 